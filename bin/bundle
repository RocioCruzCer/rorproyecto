#!/usr/bin/env ruby
# frozen_string_literal: true

#
# This file was generated by Bundler.
#
# The application 'bundle' is installed as part of a gem, and
# this file is here to facilitate running it.
#

require "rubygems"

m = Module.new do
  def self.invoke
    version = ">= 0.a"
    str = ARGV.first
    str = str.dup.force_encoding("BINARY") if str
    if str
      str = str[/\A_(.*)_\z/, 1]
      if str and Gem::Version.correct?(str)
        version = str
        ARGV.shift
      end
    end

    load Gem.bin_path('bundler', 'bundle', version)
  rescue Gem::GemNotFoundException => e
    warn e.message
    warn "Run `gem install bundler` to install a missing bundler gem."
    exit 1
  end
end

m.invoke